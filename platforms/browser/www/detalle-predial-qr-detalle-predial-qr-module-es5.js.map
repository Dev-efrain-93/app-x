{"version":3,"sources":["detalle-predial-qr-detalle-predial-qr-module-es5.js","webpack:///src/app/pages/detalle-predial-qr/detalle-predial-qr.page.html","webpack:///src/app/pages/detalle-predial-qr/detalle-predial-qr.module.ts","webpack:///src/app/pages/detalle-predial-qr/detalle-predial-qr.page.scss","webpack:///src/app/pages/detalle-predial-qr/detalle-predial-qr.page.ts"],"names":[],"mappings":"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","file":"x","sourcesContent":["(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[\"detalle-predial-qr-detalle-predial-qr-module\"],{\n\n/***/ \"./node_modules/raw-loader/dist/cjs.js!./src/app/pages/detalle-predial-qr/detalle-predial-qr.page.html\":\n/*!*************************************************************************************************************!*\\\n  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/detalle-predial-qr/detalle-predial-qr.page.html ***!\n  \\*************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Línea de captura cerrada</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid class=\\\"grid-full-height\\\">\\n    <ion-row class=\\\"row-full-height\\\" justify-content-center align-items-center>\\n\\n      <ion-item *ngIf=\\\"\\\">\\n        <ion-input type=\\\"text\\\" placeholder=\\\"Linea de captura cerrada\\\" [(ngModel)]=\\\"qrData\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-card class=\\\"qrCard\\\" mode=\\\"ios\\\">\\n\\n        <div class=\\\"scene scene--card\\\">\\n          <div class=\\\"card\\\">\\n            <div class=\\\"card__face card__face--front\\\">\\n              <div class=\\\"qrcode\\\">\\n                <qr-code [value]=\\\"qrData\\\" [size]=\\\"200\\\" [canvas]=\\\"true\\\" class=\\\"ion-padding\\\"></qr-code>\\n                <h5>{{detallePredial.lcc}}</h5>\\n              </div>\\n            </div>\\n            <div class=\\\"card__face card__face--back\\\">\\n              <div class=\\\"barcode\\\">\\n                <ngx-barcode [bc-value]=\\\"qrData\\\" [bc-display-value]=\\\"false\\\" [bc-element-type]=\\\"elementType\\\"></ngx-barcode>\\n                <h5>{{detallePredial.lcc}}</h5>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <ion-card-content>\\n          <br *ngIf=\\\"isQr\\\">\\n          <ion-grid>\\n            <ion-row>\\n              <ion-col class=\\\"col-align-center\\\">\\n                  <ion-button color=\\\"tertiary\\\" (click)=\\\"flipCard()\\\">\\n                    <span *ngIf=\\\"isQr\\\">Ver código de barras</span>\\n                    <span *ngIf=\\\"!isQr\\\">Ver código QR</span>\\n                    <!--<ion-icon slot=\\\"icon-only\\\" src=\\\"../../../assets/icons/rotate-z.svg\\\"></ion-icon>-->\\n                  </ion-button>\\n              </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n          <br>\\n          <p class=\\\"info-text\\\">Acude a un módulo de pago y presenta este código para agilizar el pago de tu predial ó paga directamente desde aquí.</p>\\n          <br>\\n        </ion-card-content>\\n      </ion-card>\\n\\n      <!--Validar código QR-->\\n      <ion-card *ngIf=\\\"\\\" mode=\\\"ios\\\">\\n        <ion-card-header>\\n          <ion-button expand=\\\"block\\\" (click)=\\\"scanCodeQR()\\\">\\n            <ion-icon name=\\\"qr-scanner\\\" slot=\\\"start\\\"></ion-icon>\\n            Escanear QR\\n          </ion-button>\\n        </ion-card-header>\\n        <ion-card-content *ngIf=\\\"scannedCode\\\">\\n          El código escaneado es: {{ scannedCode }}\\n        </ion-card-content>\\n      </ion-card>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-grid fixed>\\n      <ion-row>\\n        <ion-col>\\n          <ion-button expand=\\\"block\\\" (click)=\\\"pagarPredial()\\\">\\n            Pagar\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row *ngIf=\\\"\\\">\\n        <ion-col>\\n          <ion-button fill=\\\"clear\\\" expand=\\\"block\\\" (click)=\\\"downloadCode()\\\" *ngIf=\\\"qrData\\\">\\n            Descargar código\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-toolbar>\\n</ion-footer>\\n\");\n\n/***/ }),\n\n/***/ \"./src/app/pages/detalle-predial-qr/detalle-predial-qr.module.ts\":\n/*!***********************************************************************!*\\\n  !*** ./src/app/pages/detalle-predial-qr/detalle-predial-qr.module.ts ***!\n  \\***********************************************************************/\n/*! exports provided: DetallePredialQrPageModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DetallePredialQrPageModule\", function() { return DetallePredialQrPageModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm2015/common.js\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm2015/forms.js\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ \"./node_modules/@ionic/angular/dist/fesm5.js\");\n/* harmony import */ var _detalle_predial_qr_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./detalle-predial-qr.page */ \"./src/app/pages/detalle-predial-qr/detalle-predial-qr.page.ts\");\n/* harmony import */ var angular2_qrcode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angular2-qrcode */ \"./node_modules/angular2-qrcode/lib/angular2-qrcode.js\");\n/* harmony import */ var ngx_barcode__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-barcode */ \"./node_modules/ngx-barcode/index.js\");\n\n\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: _detalle_predial_qr_page__WEBPACK_IMPORTED_MODULE_6__[\"DetallePredialQrPage\"]\n    }\n];\nlet DetallePredialQrPageModule = class DetallePredialQrPageModule {\n};\nDetallePredialQrPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\n        imports: [\n            _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"],\n            _angular_forms__WEBPACK_IMPORTED_MODULE_3__[\"FormsModule\"],\n            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__[\"IonicModule\"],\n            _angular_router__WEBPACK_IMPORTED_MODULE_4__[\"RouterModule\"].forChild(routes),\n            angular2_qrcode__WEBPACK_IMPORTED_MODULE_7__[\"QRCodeModule\"],\n            ngx_barcode__WEBPACK_IMPORTED_MODULE_8__[\"NgxBarcodeModule\"]\n        ],\n        declarations: [_detalle_predial_qr_page__WEBPACK_IMPORTED_MODULE_6__[\"DetallePredialQrPage\"]]\n    })\n], DetallePredialQrPageModule);\n\n\n\n/***/ }),\n\n/***/ \"./src/app/pages/detalle-predial-qr/detalle-predial-qr.page.scss\":\n/*!***********************************************************************!*\\\n  !*** ./src/app/pages/detalle-predial-qr/detalle-predial-qr.page.scss ***!\n  \\***********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".grid-full-height {\\n  height: 100%;\\n}\\n\\n.row-full-height {\\n  height: 100%;\\n}\\n\\n.info-text {\\n  font-size: medium;\\n}\\n\\n.qrcode {\\n  text-align: center !important;\\n  padding: 10px !important;\\n}\\n\\n.barcode {\\n  text-align: center !important;\\n  padding: 10px !important;\\n}\\n\\n/*Flip div*/\\n\\n.scene {\\n  height: 200px;\\n  margin: 40px 0;\\n  perspective: 600px;\\n}\\n\\n.card {\\n  position: relative;\\n  cursor: pointer;\\n  transform-style: preserve-3d;\\n  transform-origin: center right;\\n  transition: transform 1s;\\n}\\n\\n.card.is-flipped {\\n  transform: translateX(-100%) rotateY(-180deg);\\n}\\n\\n.card__face {\\n  position: absolute;\\n  width: 100%;\\n  height: 225px;\\n  -webkit-backface-visibility: hidden;\\n          backface-visibility: hidden;\\n}\\n\\n.card__face--front {\\n  background: #fff;\\n}\\n\\n.card__face--back {\\n  background: #fff;\\n  transform: rotateY(180deg);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lZnJhaW4vSW9uaWNQcm9qZWN0cy9TRUZJTk1vdmlsL3NyYy9hcHAvcGFnZXMvZGV0YWxsZS1wcmVkaWFsLXFyL2RldGFsbGUtcHJlZGlhbC1xci5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2RldGFsbGUtcHJlZGlhbC1xci9kZXRhbGxlLXByZWRpYWwtcXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksWUFBQTtBQ0FKOztBREdBO0VBQ0ksWUFBQTtBQ0FKOztBREdBO0VBQ0ksaUJBQUE7QUNBSjs7QURHQTtFQUNJLDZCQUFBO0VBQ0Esd0JBQUE7QUNBSjs7QURHQTtFQUNJLDZCQUFBO0VBQ0Esd0JBQUE7QUNBSjs7QURHQSxXQUFBOztBQUVBO0VBQ0ksYUFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQ0RKOztBRElBO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0VBQ0EsNEJBQUE7RUFDQSw4QkFBQTtFQUNBLHdCQUFBO0FDREo7O0FESUE7RUFDSSw2Q0FBQTtBQ0RKOztBRElBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1DQUFBO1VBQUEsMkJBQUE7QUNESjs7QURLQTtFQUNJLGdCQUFBO0FDRko7O0FES0E7RUFDSSxnQkFBQTtFQUNBLDBCQUFBO0FDRkoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9kZXRhbGxlLXByZWRpYWwtcXIvZGV0YWxsZS1wcmVkaWFsLXFyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ncmlkLWZ1bGwtaGVpZ2h0IHtcblxuICAgIGhlaWdodDogMTAwJTtcbn1cblxuLnJvdy1mdWxsLWhlaWdodCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uaW5mby10ZXh0IHtcbiAgICBmb250LXNpemU6IG1lZGl1bTtcbn1cblxuLnFyY29kZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xufVxuXG4uYmFyY29kZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xufVxuXG4vKkZsaXAgZGl2Ki9cblxuLnNjZW5lIHtcbiAgICBoZWlnaHQ6IDIwMHB4O1xuICAgIG1hcmdpbjogNDBweCAwO1xuICAgIHBlcnNwZWN0aXZlOiA2MDBweDtcbn1cbiAgXG4uY2FyZCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkO1xuICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciByaWdodDtcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMXM7XG59XG5cbi5jYXJkLmlzLWZsaXBwZWQge1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSkgcm90YXRlWSgtMTgwZGVnKTtcbn1cblxuLmNhcmRfX2ZhY2Uge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDIyNXB4O1xuICAgIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcblxufVxuXG4uY2FyZF9fZmFjZS0tZnJvbnQge1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG59XG5cbi5jYXJkX19mYWNlLS1iYWNrIHtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIHRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpO1xufVxuIiwiLmdyaWQtZnVsbC1oZWlnaHQge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5yb3ctZnVsbC1oZWlnaHQge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5pbmZvLXRleHQge1xuICBmb250LXNpemU6IG1lZGl1bTtcbn1cblxuLnFyY29kZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlciAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5iYXJjb2RlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcbn1cblxuLypGbGlwIGRpdiovXG4uc2NlbmUge1xuICBoZWlnaHQ6IDIwMHB4O1xuICBtYXJnaW46IDQwcHggMDtcbiAgcGVyc3BlY3RpdmU6IDYwMHB4O1xufVxuXG4uY2FyZCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgcmlnaHQ7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAxcztcbn1cblxuLmNhcmQuaXMtZmxpcHBlZCB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSkgcm90YXRlWSgtMTgwZGVnKTtcbn1cblxuLmNhcmRfX2ZhY2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDIyNXB4O1xuICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG59XG5cbi5jYXJkX19mYWNlLS1mcm9udCB7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59XG5cbi5jYXJkX19mYWNlLS1iYWNrIHtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgdHJhbnNmb3JtOiByb3RhdGVZKDE4MGRlZyk7XG59Il19 */\");\n\n/***/ }),\n\n/***/ \"./src/app/pages/detalle-predial-qr/detalle-predial-qr.page.ts\":\n/*!*********************************************************************!*\\\n  !*** ./src/app/pages/detalle-predial-qr/detalle-predial-qr.page.ts ***!\n  \\*********************************************************************/\n/*! exports provided: DetallePredialQrPage */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DetallePredialQrPage\", function() { return DetallePredialQrPage; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm2015/core.js\");\n/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ \"./node_modules/@angular/router/fesm2015/router.js\");\n/* harmony import */ var _ionic_native_barcode_scanner_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/barcode-scanner/ngx */ \"./node_modules/@ionic-native/barcode-scanner/ngx/index.js\");\n/* harmony import */ var _ionic_native_base64_to_gallery_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/base64-to-gallery/ngx */ \"./node_modules/@ionic-native/base64-to-gallery/ngx/index.js\");\n/* harmony import */ var _services_toast_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/toast.service */ \"./src/app/services/toast.service.ts\");\n/* harmony import */ var _services_loading_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/loading.service */ \"./src/app/services/loading.service.ts\");\n/* harmony import */ var _ionic_native_android_permissions_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/android-permissions/ngx */ \"./node_modules/@ionic-native/android-permissions/ngx/index.js\");\n/* harmony import */ var _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/file-opener/ngx */ \"./node_modules/@ionic-native/file-opener/ngx/index.js\");\n\n\n\n\n\n\n\n\n\nlet DetallePredialQrPage = class DetallePredialQrPage {\n    constructor(router, route, barcodeScanner, base64ToGallery, toastService, loadingService, androidPermissions, fileOpener) {\n        this.router = router;\n        this.route = route;\n        this.barcodeScanner = barcodeScanner;\n        this.base64ToGallery = base64ToGallery;\n        this.toastService = toastService;\n        this.loadingService = loadingService;\n        this.androidPermissions = androidPermissions;\n        this.fileOpener = fileOpener;\n        this.qrData = '';\n        this.scannedCode = null;\n        this.elementType = \"img\";\n        this.isQr = true;\n        this.route.queryParams.subscribe(params => {\n            if (this.router.getCurrentNavigation().extras.state) {\n                this.detallePredial = this.router.getCurrentNavigation().extras.state.detallePredial;\n                this.qrData = this.detallePredial.lcc;\n                console.log(this.detallePredial);\n            }\n        });\n        //#region Permisos necesarios (almacenar imagenes)\n        this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE).then(result => console.log(\"Permissions granted\", result.hasPermission), error => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE));\n        this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE]);\n        //#endregion\n    }\n    ngOnInit() {\n    }\n    flipCard() {\n        var card = document.querySelector('.card');\n        card.classList.toggle('is-flipped');\n        this.isQr = !this.isQr;\n    }\n    /**\n     * Comprobar código QR coincida con linea de captura cerrada\n     */\n    scanCodeQR() {\n        this.barcodeScanner.scan().then(barcodeData => {\n            this.scannedCode = barcodeData;\n        }, err => {\n            console.log(err);\n            this.toastService.present(err);\n        });\n    }\n    /**\n     * Descargar código QR\n     */\n    downloadCode() {\n        let element = null;\n        if (this.isQr) {\n            element = document.querySelector('.qrcode qr-code canvas');\n        }\n        else {\n            element = document.querySelector('.barcode img');\n        }\n        if (!element) {\n            console.log(\"Elemento código no recuperado. Intente mas tarede\");\n            this.toastService.present(\"Elemento código no recuperado. Intente mas tarde\");\n            return false;\n        }\n        const imageData = this.isQr ? element.toDataURL('image/jpeg').toString() : element.currentSrc.toString();\n        console.log('data: ', imageData);\n        let data = imageData.split(',')[1];\n        const now = new Date(Date.now());\n        const fecha = now.toLocaleString();\n        const nombreArchivo = 'presupuesto_predial_' + this.detallePredial.lcc + '_' + fecha;\n        this.base64ToGallery.base64ToGallery(data, { prefix: '_img', mediaScanner: true })\n            .then(res => {\n            console.log(\"Imagen guardada con exito\", res);\n            //await this.toastService.present(\"El código ha sido guardado en tu Galería de Fotos\");\n            this.fileOpener.open(res, \"image/png\").then(() => console.log(\"Archivo abierto con exito\", res))\n                .catch(e => console.log(\"Error al intentar abrir el archivo\", res));\n        }, error => {\n            console.log(\"Error guardando imagen en galería\", error);\n            this.toastService.present(\"Error guardando imagen en galería: \" + error);\n        });\n    }\n    /**\n     * Abrir pasarela pago predial\n     */\n    pagarPredial() {\n        console.log(\"Redirigiendo pasarela pago predial\");\n        let navigationExtras = {\n            state: {\n                detallePredial: this.detallePredial\n            }\n        };\n        this.router.navigateByUrl('/app/tabs/predial/pago-predial', navigationExtras);\n    }\n};\nDetallePredialQrPage.ctorParameters = () => [\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__[\"Router\"] },\n    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__[\"ActivatedRoute\"] },\n    { type: _ionic_native_barcode_scanner_ngx__WEBPACK_IMPORTED_MODULE_3__[\"BarcodeScanner\"] },\n    { type: _ionic_native_base64_to_gallery_ngx__WEBPACK_IMPORTED_MODULE_4__[\"Base64ToGallery\"] },\n    { type: _services_toast_service__WEBPACK_IMPORTED_MODULE_5__[\"ToastService\"] },\n    { type: _services_loading_service__WEBPACK_IMPORTED_MODULE_6__[\"LoadingService\"] },\n    { type: _ionic_native_android_permissions_ngx__WEBPACK_IMPORTED_MODULE_7__[\"AndroidPermissions\"] },\n    { type: _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_8__[\"FileOpener\"] }\n];\nDetallePredialQrPage = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n        selector: 'detalle-predial-qr',\n        template: tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! raw-loader!./detalle-predial-qr.page.html */ \"./node_modules/raw-loader/dist/cjs.js!./src/app/pages/detalle-predial-qr/detalle-predial-qr.page.html\")).default,\n        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__[\"__importDefault\"](__webpack_require__(/*! ./detalle-predial-qr.page.scss */ \"./src/app/pages/detalle-predial-qr/detalle-predial-qr.page.scss\")).default]\n    }),\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_angular_router__WEBPACK_IMPORTED_MODULE_2__[\"Router\"],\n        _angular_router__WEBPACK_IMPORTED_MODULE_2__[\"ActivatedRoute\"],\n        _ionic_native_barcode_scanner_ngx__WEBPACK_IMPORTED_MODULE_3__[\"BarcodeScanner\"],\n        _ionic_native_base64_to_gallery_ngx__WEBPACK_IMPORTED_MODULE_4__[\"Base64ToGallery\"],\n        _services_toast_service__WEBPACK_IMPORTED_MODULE_5__[\"ToastService\"],\n        _services_loading_service__WEBPACK_IMPORTED_MODULE_6__[\"LoadingService\"],\n        _ionic_native_android_permissions_ngx__WEBPACK_IMPORTED_MODULE_7__[\"AndroidPermissions\"],\n        _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_8__[\"FileOpener\"]])\n], DetallePredialQrPage);\n\n\n\n/***/ })\n\n}]);\n//# sourceMappingURL=detalle-predial-qr-detalle-predial-qr-module-es2015.js.map","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Línea de captura cerrada</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid class=\\\"grid-full-height\\\">\\n    <ion-row class=\\\"row-full-height\\\" justify-content-center align-items-center>\\n\\n      <ion-item *ngIf=\\\"\\\">\\n        <ion-input type=\\\"text\\\" placeholder=\\\"Linea de captura cerrada\\\" [(ngModel)]=\\\"qrData\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-card class=\\\"qrCard\\\" mode=\\\"ios\\\">\\n\\n        <div class=\\\"scene scene--card\\\">\\n          <div class=\\\"card\\\">\\n            <div class=\\\"card__face card__face--front\\\">\\n              <div class=\\\"qrcode\\\">\\n                <qr-code [value]=\\\"qrData\\\" [size]=\\\"200\\\" [canvas]=\\\"true\\\" class=\\\"ion-padding\\\"></qr-code>\\n                <h5>{{detallePredial.lcc}}</h5>\\n              </div>\\n            </div>\\n            <div class=\\\"card__face card__face--back\\\">\\n              <div class=\\\"barcode\\\">\\n                <ngx-barcode [bc-value]=\\\"qrData\\\" [bc-display-value]=\\\"false\\\" [bc-element-type]=\\\"elementType\\\"></ngx-barcode>\\n                <h5>{{detallePredial.lcc}}</h5>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <ion-card-content>\\n          <br *ngIf=\\\"isQr\\\">\\n          <ion-grid>\\n            <ion-row>\\n              <ion-col class=\\\"col-align-center\\\">\\n                  <ion-button color=\\\"tertiary\\\" (click)=\\\"flipCard()\\\">\\n                    <span *ngIf=\\\"isQr\\\">Ver código de barras</span>\\n                    <span *ngIf=\\\"!isQr\\\">Ver código QR</span>\\n                    <!--<ion-icon slot=\\\"icon-only\\\" src=\\\"../../../assets/icons/rotate-z.svg\\\"></ion-icon>-->\\n                  </ion-button>\\n              </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n          <br>\\n          <p class=\\\"info-text\\\">Acude a un módulo de pago y presenta este código para agilizar el pago de tu predial ó paga directamente desde aquí.</p>\\n          <br>\\n        </ion-card-content>\\n      </ion-card>\\n\\n      <!--Validar código QR-->\\n      <ion-card *ngIf=\\\"\\\" mode=\\\"ios\\\">\\n        <ion-card-header>\\n          <ion-button expand=\\\"block\\\" (click)=\\\"scanCodeQR()\\\">\\n            <ion-icon name=\\\"qr-scanner\\\" slot=\\\"start\\\"></ion-icon>\\n            Escanear QR\\n          </ion-button>\\n        </ion-card-header>\\n        <ion-card-content *ngIf=\\\"scannedCode\\\">\\n          El código escaneado es: {{ scannedCode }}\\n        </ion-card-content>\\n      </ion-card>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-grid fixed>\\n      <ion-row>\\n        <ion-col>\\n          <ion-button expand=\\\"block\\\" (click)=\\\"pagarPredial()\\\">\\n            Pagar\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row *ngIf=\\\"\\\">\\n        <ion-col>\\n          <ion-button fill=\\\"clear\\\" expand=\\\"block\\\" (click)=\\\"downloadCode()\\\" *ngIf=\\\"qrData\\\">\\n            Descargar código\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-toolbar>\\n</ion-footer>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { DetallePredialQrPage } from './detalle-predial-qr.page';\n\nimport { QRCodeModule } from 'angular2-qrcode';\nimport { NgxBarcodeModule } from 'ngx-barcode';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetallePredialQrPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    QRCodeModule,\n    NgxBarcodeModule\n  ],\n  declarations: [DetallePredialQrPage]\n})\nexport class DetallePredialQrPageModule {}\n","export default \".grid-full-height {\\n  height: 100%;\\n}\\n\\n.row-full-height {\\n  height: 100%;\\n}\\n\\n.info-text {\\n  font-size: medium;\\n}\\n\\n.qrcode {\\n  text-align: center !important;\\n  padding: 10px !important;\\n}\\n\\n.barcode {\\n  text-align: center !important;\\n  padding: 10px !important;\\n}\\n\\n/*Flip div*/\\n\\n.scene {\\n  height: 200px;\\n  margin: 40px 0;\\n  perspective: 600px;\\n}\\n\\n.card {\\n  position: relative;\\n  cursor: pointer;\\n  transform-style: preserve-3d;\\n  transform-origin: center right;\\n  transition: transform 1s;\\n}\\n\\n.card.is-flipped {\\n  transform: translateX(-100%) rotateY(-180deg);\\n}\\n\\n.card__face {\\n  position: absolute;\\n  width: 100%;\\n  height: 225px;\\n  -webkit-backface-visibility: hidden;\\n          backface-visibility: hidden;\\n}\\n\\n.card__face--front {\\n  background: #fff;\\n}\\n\\n.card__face--back {\\n  background: #fff;\\n  transform: rotateY(180deg);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lZnJhaW4vSW9uaWNQcm9qZWN0cy9TRUZJTk1vdmlsL3NyYy9hcHAvcGFnZXMvZGV0YWxsZS1wcmVkaWFsLXFyL2RldGFsbGUtcHJlZGlhbC1xci5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2RldGFsbGUtcHJlZGlhbC1xci9kZXRhbGxlLXByZWRpYWwtcXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksWUFBQTtBQ0FKOztBREdBO0VBQ0ksWUFBQTtBQ0FKOztBREdBO0VBQ0ksaUJBQUE7QUNBSjs7QURHQTtFQUNJLDZCQUFBO0VBQ0Esd0JBQUE7QUNBSjs7QURHQTtFQUNJLDZCQUFBO0VBQ0Esd0JBQUE7QUNBSjs7QURHQSxXQUFBOztBQUVBO0VBQ0ksYUFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQ0RKOztBRElBO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0VBQ0EsNEJBQUE7RUFDQSw4QkFBQTtFQUNBLHdCQUFBO0FDREo7O0FESUE7RUFDSSw2Q0FBQTtBQ0RKOztBRElBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1DQUFBO1VBQUEsMkJBQUE7QUNESjs7QURLQTtFQUNJLGdCQUFBO0FDRko7O0FES0E7RUFDSSxnQkFBQTtFQUNBLDBCQUFBO0FDRkoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9kZXRhbGxlLXByZWRpYWwtcXIvZGV0YWxsZS1wcmVkaWFsLXFyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ncmlkLWZ1bGwtaGVpZ2h0IHtcblxuICAgIGhlaWdodDogMTAwJTtcbn1cblxuLnJvdy1mdWxsLWhlaWdodCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uaW5mby10ZXh0IHtcbiAgICBmb250LXNpemU6IG1lZGl1bTtcbn1cblxuLnFyY29kZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xufVxuXG4uYmFyY29kZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xufVxuXG4vKkZsaXAgZGl2Ki9cblxuLnNjZW5lIHtcbiAgICBoZWlnaHQ6IDIwMHB4O1xuICAgIG1hcmdpbjogNDBweCAwO1xuICAgIHBlcnNwZWN0aXZlOiA2MDBweDtcbn1cbiAgXG4uY2FyZCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkO1xuICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciByaWdodDtcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMXM7XG59XG5cbi5jYXJkLmlzLWZsaXBwZWQge1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSkgcm90YXRlWSgtMTgwZGVnKTtcbn1cblxuLmNhcmRfX2ZhY2Uge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDIyNXB4O1xuICAgIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcblxufVxuXG4uY2FyZF9fZmFjZS0tZnJvbnQge1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG59XG5cbi5jYXJkX19mYWNlLS1iYWNrIHtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIHRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpO1xufVxuIiwiLmdyaWQtZnVsbC1oZWlnaHQge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5yb3ctZnVsbC1oZWlnaHQge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5pbmZvLXRleHQge1xuICBmb250LXNpemU6IG1lZGl1bTtcbn1cblxuLnFyY29kZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlciAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5iYXJjb2RlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcbn1cblxuLypGbGlwIGRpdiovXG4uc2NlbmUge1xuICBoZWlnaHQ6IDIwMHB4O1xuICBtYXJnaW46IDQwcHggMDtcbiAgcGVyc3BlY3RpdmU6IDYwMHB4O1xufVxuXG4uY2FyZCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgcmlnaHQ7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAxcztcbn1cblxuLmNhcmQuaXMtZmxpcHBlZCB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSkgcm90YXRlWSgtMTgwZGVnKTtcbn1cblxuLmNhcmRfX2ZhY2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDIyNXB4O1xuICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG59XG5cbi5jYXJkX19mYWNlLS1mcm9udCB7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59XG5cbi5jYXJkX19mYWNlLS1iYWNrIHtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgdHJhbnNmb3JtOiByb3RhdGVZKDE4MGRlZyk7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\n\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\nimport { Base64ToGallery } from '@ionic-native/base64-to-gallery/ngx';\nimport { ToastService } from '../../services/toast.service';\nimport { LoadingService } from '../../services/loading.service'; \n\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\n\n@Component({\n  selector: 'detalle-predial-qr',\n  templateUrl: './detalle-predial-qr.page.html',\n  styleUrls: ['./detalle-predial-qr.page.scss'],\n})\nexport class DetallePredialQrPage implements OnInit {\n\n  detallePredial: any;\n  qrData = '';\n  scannedCode = null;\n\n  elementType : \"svg\" | \"img\" | \"canvas\" = \"img\";\n  \n  isQr = true;\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private barcodeScanner: BarcodeScanner,\n    private base64ToGallery: Base64ToGallery,\n    private toastService: ToastService,\n    private loadingService: LoadingService,\n    private androidPermissions: AndroidPermissions,\n    private fileOpener: FileOpener\n  ) {\n    this.route.queryParams.subscribe(params => {\n      if(this.router.getCurrentNavigation().extras.state) {\n        this.detallePredial = this.router.getCurrentNavigation().extras.state.detallePredial;\n        this.qrData = this.detallePredial.lcc;\n        console.log(this.detallePredial);\n      }\n      \n    });\n\n    //#region Permisos necesarios (almacenar imagenes)\n    this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE).then(\n      result => console.log(\"Permissions granted\", result.hasPermission),\n      error => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE)\n    );\n    this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE]);\n    //#endregion\n\n   }\n\n  ngOnInit() {\n  }\n\n  flipCard() {\n    var card = document.querySelector('.card') as HTMLDivElement;\n    card.classList.toggle('is-flipped');\n\n    this.isQr = !this.isQr;\n  }\n\n  /**\n   * Comprobar código QR coincida con linea de captura cerrada\n   */\n  scanCodeQR() {\n    this.barcodeScanner.scan().then(\n      barcodeData => {\n        this.scannedCode = barcodeData;\n      },\n      err => {\n        console.log(err);\n        this.toastService.present(err);\n      }\n    );\n  }\n\n  /**\n   * Descargar código QR\n   */\n  downloadCode() {\n    let element = null;\n    if (this.isQr) {\n      element = document.querySelector('.qrcode qr-code canvas') as HTMLCanvasElement;\n    } else {\n      element = document.querySelector('.barcode img') as HTMLImageElement;\n    }\n\n    if (!element) {\n      console.log(\"Elemento código no recuperado. Intente mas tarede\");\n      this.toastService.present(\"Elemento código no recuperado. Intente mas tarde\");\n      return false;\n    }\n    \n    const imageData = this.isQr ? element.toDataURL('image/jpeg').toString() : element.currentSrc.toString();\n    console.log('data: ', imageData);\n\n    let data = imageData.split(',')[1];\n    \n    const now = new Date(Date.now());\n    const fecha = now.toLocaleString();\n    const nombreArchivo = 'presupuesto_predial_' + this.detallePredial.lcc + '_' + fecha;\n\n    this.base64ToGallery.base64ToGallery(data,\n      { prefix: '_img', mediaScanner: true })\n      .then(\n        res => {\n          console.log(\"Imagen guardada con exito\", res);\n          //await this.toastService.present(\"El código ha sido guardado en tu Galería de Fotos\");\n          this.fileOpener.open(res, \"image/png\").then(\n            () => console.log(\"Archivo abierto con exito\", res))\n            .catch( e=> console.log(\"Error al intentar abrir el archivo\", res));\n        }, \n        error => {\n          console.log(\"Error guardando imagen en galería\", error);\n          this.toastService.present(\"Error guardando imagen en galería: \" + error);\n        }\n      );\n  }\n\n\n  /**\n   * Abrir pasarela pago predial\n   */\n  pagarPredial() {\n    console.log(\"Redirigiendo pasarela pago predial\");\n\n    let navigationExtras: NavigationExtras = {\n      state: {\n        detallePredial: this.detallePredial\n      }\n    }\n\n    this.router.navigateByUrl('/app/tabs/predial/pago-predial', navigationExtras);\n  }\n\n}\n"]}